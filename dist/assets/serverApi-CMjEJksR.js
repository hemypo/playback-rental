const r="http://localhost:3001/api",l=async(e,o={})=>{const n=`${r}${e}`,i={headers:{"Content-Type":"application/json",Accept:"application/json",...o.headers},mode:"cors",credentials:"same-origin",...o};try{console.log(`Making HTTP API call to: ${n}`);const t=await fetch(n,i);if(!t.ok){const c=await t.json().catch(()=>null);throw new Error((c==null?void 0:c.error)||`HTTP ${t.status}: ${t.statusText}`)}return await t.json()}catch(t){throw console.error(`API call failed to ${n}:`,t),t}},d=async e=>(console.log("Sending contact notification to server API..."),l("/notifications/contact",{method:"POST",body:JSON.stringify(e)})),h=async e=>(console.log("Sending checkout notification to server API..."),l("/notifications/checkout",{method:"POST",body:JSON.stringify(e)})),u=async e=>{console.log(`Creating ${e} backup...`);try{const o=await fetch(`${r}/backup/create`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:e})});if(!o.ok){const a=await o.json().catch(()=>null);throw new Error((a==null?void 0:a.error)||`HTTP ${o.status}: ${o.statusText}`)}const n=o.headers.get("Content-Disposition");let i=`backup-${Date.now()}`;if(n){const a=n.match(/filename="(.+)"/);a&&(i=a[1])}const t=await o.blob(),c=URL.createObjectURL(t),s=document.createElement("a");s.href=c,s.download=i,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(c),console.log("Backup downloaded successfully")}catch(o){throw console.error("Error creating backup:",o),o}};export{d as a,u as c,h as s};